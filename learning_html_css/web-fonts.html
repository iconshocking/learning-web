<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Web font example</title>
    <!-- Always HTML link over CSS @import since @import downloads sequentially instead of in parallel -->
    <link href="fonts/downloaded/stylesheet.css" rel="stylesheet" type="text/css" crossorigin />
    <!-- first preconnect link here is not too important since the stylesheet immediately follows
    it, but the second is more useful since it sets up in advance the connection to fetch the font
    URLs defined in the to-be-downloaded stylesheet (preconnect is a more generic version of
    preload, and can be used for an origin, instead of a single/specific resource) -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inconsolata&display=swap"
      rel="stylesheet"
    />
    <link href="styles/web-fonts.css" rel="stylesheet" type="text/css" />
    <style>
      p {
        font-weight: 900;
        font-size: 1.5rem;
      }
    </style>
  </head>

  <body>
    <h1>Fonts</h1>

    <h2>Local-Hosting vs CDN</h2>
    <p>
      Often just as good to locally host now that browsers do not allow caching of responses for the
      same URL across different domains (i.e., no pre-cache beneift from other sites). Regardless,
      always preconnect or preload the necessary CSS/font origins/URLs.
    </p>

    <h2>CORS</h2>
    <p>
      <code>crossorigin</code> must always be present on a preconnect/preload/link for a font
      (inline CSS <code>@font-face</code> <code>url()</code> automatically performs CORS calls)
    </p>

    <h2>Flash of Invisible/Unstyled Text</h2>
    <p>
      Default behavior is FOIT, for multiple seconds possibly before a fallback font is applied. To
      avoid this use <code>font-display: swap</code> (or other options), which makes the priod
      before fallback very short.
    </p>
    <p>
      Regardless, this should only really affect a user's first visit to the site since the font
      response should be configured to cache.
    </p>
  </body>
</html>
